<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCPD // MOST WANTED</title>
    <link rel="stylesheet" href="https://barndoors.cc/global.css"/>

    <style>
        /* --- LAYOUT OVERRIDES --- */
        body, html {
            height: auto !important;
            overflow-y: auto !important;
            overflow-x: hidden !important;
            width: 100%;
            max-width: 100%;
        }

        main#content {
            display: block !important;
            height: auto !important;
            max-width: 1200px;
            margin: 0 auto;
            padding-top: 2rem;
            overflow: visible !important;
        }

        /* --- HEADER --- */
        header { position: relative; width: 100%; margin-bottom: 3rem; }
        .homenavcontainer {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            width: 100%;
        }
        header h1 {
            font-family: "wom", serif;
            font-size: clamp(40px, 8vw, 80px);
            margin-bottom: 0.5rem;
            line-height: 1;
            white-space: nowrap;
        }
        .navsection {
            font-family: "Azeret Mono", monospace;
            text-transform: uppercase;
            font-size: 0.9rem;
            margin-bottom: 2rem;
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        /* --- 1. HERO SECTION (Shared Class for Modal) --- */
        .hero-suspect {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 2rem;
            margin: 0 1rem 4rem;
            border: 2px solid var(--color-2);
            padding: 2rem;
            background: color-mix(in srgb, var(--color-2) 5%, var(--color-bg));
            max-width: 100%;
            box-sizing: border-box;
            position: relative;
        }

        .hero-img {
            width: 100%; height: 450px; object-fit: cover;
            filter: grayscale(100%) contrast(120%);
            border: 1px solid var(--color-fg);
        }

        .hero-info { display: flex; flex-direction: column; justify-content: center; min-width: 0; }
        .hero-rank { color: var(--color-2); font-weight: bold; margin-bottom: 0.5rem; text-transform: uppercase; }
        .hero-name {
            font-family: "wom", serif; font-size: clamp(3rem, 6vw, 5rem);
            line-height: 0.9; margin-bottom: 1.5rem;
            overflow-wrap: break-word;
        }

        .hero-stats {
            display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;
        }
        .stat-label { font-size: 0.7rem; color: var(--color-5); display: block; }
        .stat-val { font-size: 1.1rem; font-weight: bold; }

        .hero-bounty {
            text-align: right; font-size: clamp(2rem, 4vw, 3.5rem);
            color: var(--color-3); font-weight: 900;
            text-shadow: 2px 2px 0 var(--color-1);
            margin-top: auto;
        }

        /* --- 2. MARQUEE --- */
        .marquee-wrapper {
            width: 100vw;
            position: relative;
            left: 50%;
            right: 50%;
            margin-left: -50vw;
            margin-right: -50vw;
            background: var(--color-1);
            border-top: 1px solid var(--color-5);
            border-bottom: 1px solid var(--color-5);
            padding: 1rem 0;
            overflow: hidden;
            margin-bottom: 4rem;
        }

        .marquee-track {
            display: flex; gap: 1rem; width: max-content;
            animation: scroll-left 40s linear infinite;
        }
        .marquee-track:hover { animation-play-state: paused; }

        .marquee-card {
            width: 110px; flex-shrink: 0;
            background: var(--color-bg); border: 1px solid var(--color-6);
            padding: 5px; display: flex; flex-direction: column;
            align-items: center; text-align: center;
        }
        .marquee-card img {
            width: 100px; height: 100px; object-fit: cover;
            margin-bottom: 5px; filter: grayscale(100%); display: block;
        }
        .marquee-card span { font-size: 0.65rem; line-height: 1.2; font-weight: bold; }
        .marquee-card .b-text { color: var(--color-3); font-weight: normal; }

        /* --- 3. GRID SECTION --- */
        .grid-section { padding: 0 1rem; margin-bottom: 5rem; }
        .grid-title { font-family: "wom", serif; font-size: 3rem; margin-bottom: 1.5rem; text-align: center; }

        .suspect-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1.5rem;
        }
        .grid-card {
            border: 1px solid var(--color-5);
            background: var(--color-1);
            transition: transform 0.2s;
            cursor: pointer; /* Indicates clickable */
            position: relative;
        }
        .grid-card:hover { transform: translateY(-5px); border-color: var(--color-2); z-index: 10; }
        .grid-card img { width: 100%; height: 220px; object-fit: cover; display: block; }
        .grid-info { padding: 1rem; }

        /* --- 4. FORM --- */
        .form-section {
            background: var(--color-1);
            border-top: 2px solid var(--color-fg);
            padding: 3rem 2rem; margin-top: 2rem; color: var(--color-7);
            width: 100vw; position: relative; left: 50%; margin-left: -50vw;
            box-sizing: border-box;
        }

        .madlibs-container {
            width: 100%; max-width: 1200px; margin: 0 auto;
            font-size: clamp(1rem, 2vw, 1.3rem); line-height: 2.2;
            font-family: "Azeret Mono", monospace;
        }

        .mad-input, .mad-select {
            background: transparent; border: none;
            border-bottom: 2px solid var(--color-4);
            color: var(--color-fg); font-family: inherit;
            font-size: inherit; padding: 0 10px;
            text-align: left; cursor: pointer; min-width: 300px;
        }
        .mad-select { color: var(--color-3); font-weight: bold; text-align: center; min-width: 200px; }
        .mad-input:focus, .mad-select:focus { outline: none; border-bottom-color: var(--color-2); background: rgba(255,255,255,0.05); }

        .conditional-block { display: none; margin-top: 3rem; padding: 2rem; border: 1px solid var(--color-5); }
        .conditional-block.active { display: block; animation: fade-in 0.5s; }
        .hidden { opacity: 0.5; pointer-events: none; filter: blur(2px); }

        .submit-area { margin-top: 2rem; text-align: right; }
        .cyber-btn {
            background: var(--color-4); color: white;
            border: none; padding: 1rem 4rem;
            font-family: "Azeret Mono", monospace; font-weight: bold;
            font-size: 1.4rem; cursor: pointer; text-transform: uppercase;
        }
        .cyber-btn:hover { background: var(--color-2); }

        /* --- 5. MODAL OVERLAY --- */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            padding: 1rem;
        }
        .modal-overlay.open {
            opacity: 1;
            pointer-events: all;
        }

        /* Modify the hero-suspect class when inside the modal */
        .modal-content.hero-suspect {
            margin: 0; /* Remove the page margin */
            max-width: 1000px;
            width: 100%;
            background: var(--color-1); /* Solid background */
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
            transform: scale(0.95);
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .modal-overlay.open .modal-content { transform: scale(1); }

        .close-btn {
            position: absolute;
            top: 10px; right: 10px;
            background: var(--color-2);
            color: var(--color-1);
            border: none;
            width: 40px; height: 40px;
            font-size: 24px; font-weight: bold;
            cursor: pointer;
            z-index: 10;
        }
        .close-btn:hover { background: var(--color-fg); }

        @keyframes scroll-left { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 800px) {
            .hero-suspect { grid-template-columns: 1fr; text-align: center; }
            .hero-bounty { text-align: center; margin-top: 1rem; }
            .hero-img { height: 300px; }
            .mad-input, .mad-select { min-width: 100%; display: block; margin: 10px 0; width: 100%; }
            .form-section { padding: 2rem 1rem; }
            /* Modal mobile adjustments */
            .modal-content.hero-suspect { max-height: 90vh; overflow-y: auto; display: block; }
        }
    </style>
</head>
<body>

<div class="homenavcontainer">
    <header>
        <h1>
            <a class="headerlink" href="index.html">thoughts on things and stuff</a>
        </h1>
        <nav>
            <div class="navsection">
                <a href="https://barndoors.cc">continue</a>
                <a href="assoc.html">assoc.</a>
            </div>
        </nav>
    </header>
</div>

<main id="content">

    <section class="hero-suspect">
        <img src="https://placehold.co/400x500/111/FFF" class="hero-img" alt="Suspect">
        <div class="hero-info">
            <div class="hero-rank">RANK #1 // KILL ON SIGHT</div>
            <div class="hero-name">KAELEN "ZERO" VOSS</div>

            <div class="hero-stats">
                <div><span class="stat-label">ALIAS</span><span class="stat-val">The Fragment</span></div>
                <div><span class="stat-label">AGE</span><span class="stat-val">28</span></div>
                <div style="grid-column: 1/-1"><span class="stat-label">LAST SEEN</span><span class="stat-val">Sector 7 (Undercity)</span></div>
                <div style="grid-column: 1/-1"><span class="stat-label">CRIMES</span><span class="stat-val">Unauthorized reality tampering via Hydra-synth injection.</span></div>
            </div>

            <div class="hero-bounty">5,000,000 GBP</div>
        </div>
    </section>

    <section class="marquee-wrapper">
        <div class="marquee-track" id="marquee-track"></div>
    </section>

    <section class="grid-section">
        <h2 class="grid-title">ACTIVE WARRANTS</h2>
        <div class="suspect-grid" id="suspect-grid"></div>
    </section>

    <section class="form-section">
        <form id="intelForm">
            <div class="madlibs-container">
                <p>
                    AS A CITIZEN OF <input type="text" class="mad-input" placeholder="ENTER SECTOR..." name="sector" required>,
                    I, OF SOUND MIND, REQUEST A DATA
                    <select id="requestType" name="requestType" class="mad-select">
                        <option value="" disabled selected>-- SELECT --</option>
                        <option value="addition">ADDITION</option>
                        <option value="purge">PURGE</option>
                        <option value="update">UPDATE</option>
                    </select>.
                </p>

                <div id="block-addition" class="conditional-block">
                    <p>
                        I WOULD LIKE TO REPORT
                        <select name="crime" class="mad-select">
                            <option value="hacking">ILLEGAL NETRUNNING</option>
                            <option value="thoughtcrime">THOUGHTCRIME</option>
                            <option value="grand_larceny">GRAND LARCENY</option>
                            <option value="vandalism">VANDALISM</option>
                        </select>
                        BY
                        <select id="identitySelect" name="identity" class="mad-select">
                            <option value="identified">IDENTIFIED CITIZEN</option>
                            <option value="unknown">UNKNOWN ENTITY</option>
                        </select>.
                    </p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem;">
                        <div>
                            <label style="display:block; font-size: 0.8rem; margin-bottom: 5px;">SUSPECT NAME/ALIAS</label>
                            <input type="text" name="suspectName" class="mad-input" style="width: 100%;">
                            <label style="display:block; font-size: 0.8rem; margin-bottom: 5px; margin-top: 1rem;">LAST SEEN LOCATION</label>
                            <input type="text" name="lastSeen" class="mad-input" style="width: 100%;">
                        </div>
                        <div id="imageUploadArea" style="border: 1px dashed var(--color-5); display: flex; align-items: center; justify-content: center; height: 150px; cursor: pointer; position: relative; background: rgba(0,0,0,0.3);">
                            <span style="font-size: 0.8rem;">[ UPLOAD BIO-SCAN IMAGE ]</span>
                            <input type="file" name="evidence" style="opacity: 0; position: absolute; inset: 0; cursor: pointer;">
                        </div>
                    </div>
                </div>

                <div id="block-purge" class="conditional-block">
                    <p>
                        DATA PURGE REQUEST FOR <input type="text" name="purgeTarget" class="mad-input" placeholder="SUBJECT NAME">.
                        <br><br>
                        <span style="color: var(--color-2); font-size: 0.9em;">
                                WARNING: BY SUBMITTING THIS REQUEST YOU FORFEIT YOUR RIGHTS TO DAILY OUTSIDE TIME AND AGREE TO MANDATORY RE-EDUCATION.
                            </span>
                    </p>
                </div>

                <div id="block-update" class="conditional-block">
                    <p>
                        I WOULD LIKE TO REPORT INCORRECT INFORMATION ON
                        <input type="text" name="updateTarget" class="mad-input" placeholder="SUBJECT ID">
                        TO THE STATE.
                    </p>
                    <textarea name="correctionDetails" placeholder="STATE THE CORRECTION HERE..." style="width: 100%; background: #000; border: 1px solid var(--color-5); color: var(--color-7); padding: 1rem; margin-top: 1rem; font-family: inherit; height: 150px;"></textarea>
                </div>

                <div class="submit-area">
                    <button type="submit" class="cyber-btn">ENCRYPT & TRANSMIT</button>
                </div>
            </div>
        </form>
        <div id="form-status" style="text-align: center; margin-top: 1rem;"></div>
    </section>

</main>

<div id="suspectModal" class="modal-overlay">
    <div class="modal-content hero-suspect">
        <button class="close-btn" onclick="closeModal()">X</button>

        <img id="m-img" src="" class="hero-img" alt="Suspect">

        <div class="hero-info">
            <div id="m-rank" class="hero-rank">RANK #? // CAPTURE</div>
            <div id="m-name" class="hero-name">NAME</div>

            <div class="hero-stats">
                <div><span class="stat-label">ALIAS</span><span id="m-alias" class="stat-val">Alias</span></div>
                <div><span class="stat-label">AGE</span><span id="m-age" class="stat-val">??</span></div>
                <div style="grid-column: 1/-1"><span class="stat-label">LAST SEEN</span><span id="m-seen" class="stat-val">Location</span></div>
                <div style="grid-column: 1/-1"><span class="stat-label">CRIMES</span><span id="m-crimes" class="stat-val">Details...</span></div>
            </div>

            <div id="m-bounty" class="hero-bounty">0 GBP</div>
        </div>
    </div>
</div>

<script>
    // Expanded data with details for the Modal
    const suspects = [
        { name: "Unit 734", alias: "Rust Bucket", age: "N/A", seen: "Orbital Dock 4", crimes: "Grand larceny of helium-3 canisters.", bounty: "120,000", img: "https://placehold.co/400x500/222/FFF" },
        { name: "Mara Sov", alias: "Void Walker", age: "34", seen: "The Reef", crimes: "Trafficking restricted wetware technology.", bounty: "250,000", img: "https://placehold.co/400x500/333/FFF" },
        { name: "Unknown", alias: "Ghost", age: "??", seen: "Network Layer 4", crimes: "Total data wipe of Arasaka local servers.", bounty: "50,000", img: "https://placehold.co/400x500/444/FFF" },
        { name: "Jax", alias: "Stim", age: "19", seen: "Neon District", crimes: "Selling unauthorized combat mods.", bounty: "10,000", img: "https://placehold.co/400x500/555/FFF" },
        { name: "Vera", alias: "Switch", age: "25", seen: "High-Rise Slums", crimes: "Identity theft and credit siphon.", bounty: "80,000", img: "https://placehold.co/400x500/666/FFF" },
        { name: "Kovac", alias: "The Butcher", age: "45", seen: "Badlands", crimes: "Multiple counts of homicide. Extremely dangerous.", bounty: "500,000", img: "https://placehold.co/400x500/777/FFF" },
        { name: "Ryla", alias: "Neon", age: "22", seen: "Club Afterlife", crimes: "Public disturbance via illegal cybernetics.", bounty: "45,000", img: "https://placehold.co/400x500/888/FFF" },
    ];

    function initContent() {
        // 1. GRID GENERATION (With Click Event)
        const gridEl = document.getElementById('suspect-grid');
        const shuffled = [...suspects].sort(() => 0.5 - Math.random());

        shuffled.forEach((s, index) => {
            // Create element manually to attach event listener easily
            const card = document.createElement('div');
            card.className = 'grid-card';
            card.innerHTML = `
                <img src="${s.img}">
                <div class="grid-info">
                    <span style="color:var(--color-7); font-weight:bold;">${s.alias}</span><br>
                    <span style="font-size:0.8rem; color:var(--color-6);">${s.bounty} GBP</span>
                </div>
            `;

            // ATTACH CLICK LISTENER
            card.addEventListener('click', () => openModal(s, index + 2)); // Rank is index + 2 (since #1 is static)
            gridEl.appendChild(card);
        });

        // 2. MARQUEE GENERATION
        const marqueeEl = document.getElementById('marquee-track');
        let baseList = [];
        while(baseList.length < 50) baseList = baseList.concat(suspects);
        const marqueeList = [...baseList, ...baseList];

        marqueeList.forEach(s => {
            marqueeEl.innerHTML += `
                    <div class="marquee-card">
                        <img src="${s.img}">
                        <span>${s.alias}</span>
                        <span class="b-text">${s.bounty}</span>
                    </div>
                `;
        });
    }
    initContent();

    // --- MODAL LOGIC ---
    const modal = document.getElementById('suspectModal');

    function openModal(data, rank) {
        // Populate Data
        document.getElementById('m-img').src = data.img;
        document.getElementById('m-name').innerText = data.name.toUpperCase();
        document.getElementById('m-alias').innerText = data.alias;
        document.getElementById('m-age').innerText = data.age;
        document.getElementById('m-seen').innerText = data.seen;
        document.getElementById('m-crimes').innerText = data.crimes;
        document.getElementById('m-bounty').innerText = data.bounty + " GBP";
        document.getElementById('m-rank').innerText = "RANK #" + rank + " // WANTED";

        // Show
        modal.classList.add('open');
    }

    function closeModal() {
        modal.classList.remove('open');
    }

    // Close on background click
    modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
    });

    // --- FORM LOGIC ---
    const typeSelect = document.getElementById('requestType');
    const blocks = {
        addition: document.getElementById('block-addition'),
        purge: document.getElementById('block-purge'),
        update: document.getElementById('block-update')
    };
    const identitySelect = document.getElementById('identitySelect');
    const imgArea = document.getElementById('imageUploadArea');

    typeSelect.addEventListener('change', (e) => {
        Object.values(blocks).forEach(el => el.classList.remove('active'));
        const selected = blocks[e.target.value];
        if(selected) selected.classList.add('active');
    });

    identitySelect.addEventListener('change', (e) => {
        if(e.target.value === 'unknown') {
            imgArea.classList.add('hidden');
            imgArea.innerHTML = '<span style="font-size: 0.8rem; color: var(--color-6);">[ IMAGE UNAVAILABLE ]</span>';
        } else {
            imgArea.classList.remove('hidden');
            imgArea.innerHTML = '<span style="font-size: 0.8rem;">[ UPLOAD BIO-SCAN IMAGE ]</span><input type="file" name="evidence" style="opacity: 0; position: absolute; inset: 0; cursor: pointer;">';
        }
    });

    document.getElementById('intelForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const btn = e.target.querySelector('button');
        const originalText = btn.innerText;
        btn.innerText = "ENCRYPTING...";

        setTimeout(() => {
            document.getElementById('form-status').innerHTML = "<span style='color:var(--color-7)'>// TRANSMISSION RECEIVED. STAY VIGILANT.</span>";
            btn.innerText = originalText;
            e.target.reset();
            Object.values(blocks).forEach(el => el.classList.remove('active'));
        }, 1500);
    });
</script>
</body>
</html>